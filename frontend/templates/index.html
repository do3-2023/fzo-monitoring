{% extends 'base.html' %}

{% block container %}

    <script>
        async function add(button) {
            await fetch(button.getAttribute("endpoint") + '/', {method: 'POST'});
            location.reload();
        }
    </script>

    <h1>People!</h1>

    {% if hasPeople %}
        <h2>People registered:</h2>
        <ul>
            {%- for p in people %}
                <li>{{ p -}}</li>
            {% endfor %}
        </ul>
    {% else %}
        <h2>There are no people registered!</h2>
    {% endif %}

    <button onclick="add(this)" endpoint={{ endpoint }}>
        Add a new person
    </button>

{% endblock %}
